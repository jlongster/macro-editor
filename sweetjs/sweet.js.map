{"version":3,"sources":["src/sweet.js"],"names":["root","factory","exports","path","require","fs","lib","join","dirname","realpathSync","__filename","stxcaseModule","readFileSync","extensions","module$2","filename","content","_compile","codegen","generate","parse","define","amd","exports$2","_","parser","expander","syn","gen","scope","codegen$2","escodegen","escope","expand","makeExpand","expandModule","stxcaseCtx","expandFn","expand$2","code","modules","maxExpands","program","toString","read","String","source","length","valueOf","stringToArray","readTree","concat","err","MacroSyntaxError","SyntaxError","printSyntaxError","compile","options","output","ast","readableNames","optimizeHygiene","sourceMap","extend","comment","sourceMapWithCode","map","loadNodeModule","moduleName","Module","module","constructor","mock","id","paths","test","_nodeModulePaths","_resolveFilename","wrapper","body","expression","callee","sansUnique","name","match","wouldShadow","scope$2","scrubbed","has","get","upper","scopes","analyze","globalScope","forEach","StringMap","isStatic","references","ref","set","identifier","variables","variable","level","identifiers","i","r","loadModule"],"mappings":"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"}