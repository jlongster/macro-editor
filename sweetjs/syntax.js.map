{"version":3,"sources":["src/syntax.js"],"names":["root","factory","exports","require","define","amd","exports$2","_","parser","expander","assert","condition","message","Error","Rename","id","name","ctx","defctx","context","def","Mark","mark","Def","Syntax","token","oldstx","deferredContext","prototype","newMark","inner","syntaxFromToken","rename","addDefCtx","getDefCtx","expose","type","Token","Delimiter","applyContext","stxCtx","map","bind","stx","toString","val","EOF","value","mkSyntax","Array","isArray","length","throwSyntaxError","undefined","startLineNumber","startLineStart","endLineNumber","endLineStart","startRange","endRange","lineNumber","lineStart","range","makeValue","BooleanLiteral","makeDelim","makePunc","Math","abs","NumericLiteral","StringLiteral","NullLiteral","makeRegex","flags","newstx","RegExp","RegexLiteral","literal","makeIdent","Identifier","makeKeyword","Keyword","Punctuator","unwrapSyntax","syntaxToTokens","stx$2","tokensToSyntax","tokens","joinSyntax","tojoin","punc","reduce","rest","acc","join","push","first","joinSyntaxArray","flatten","apply","cloneSyntaxArray","arr","o","clone","MacroSyntaxError","SyntaxCaseError","throwSyntaxCaseError","printSyntaxError","code","err","sm_startLineNumber","sm_lineNumber","sm_startLineStart","sm_lineStart","start","sm_startRange","sm_range","offset","line","pre","ch","charAt","prettyPrint","stxarr","shouldResolve","indent","unparsedLines","s","resolve","str","unshift","ind"],"mappings":"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"}